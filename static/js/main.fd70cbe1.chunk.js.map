{"version":3,"sources":["Components/Searchbar/Searchbar.js","services/apiService.js","Components/ImageGalleryInfo/ImageGallery/ImageGalleryItem/ImageGalleryItem.js","Components/ImageGalleryInfo/ImageGallery/ImageGallery.js","Components/Button/Button.js","Components/Loader/Loader.js","Components/Modal/icon-close.svg","Components/ImageGalleryInfo/ImageGalleryInfo.js","Components/Modal/Modal.js","App.js","index.js"],"names":["Searchbar","state","searchQuery","handleChange","e","value","target","setState","handleSubmit","preventDefault","props","onSubmit","toLocaleLowerCase","this","className","type","onChange","autoComplete","autoFocus","placeholder","Component","fetchImages","pageNumber","perPage","searchParams","URLSearchParams","image_type","orientation","q","page","per_page","key","url","fetch","then","response","ok","json","Promise","reject","Error","ImageGalleryItem","previewUrl","originUrl","tags","onClick","src","alt","ImageGallery","galleryData","map","index","webformatURL","largeImageURL","Button","children","portal","document","getElementById","Loader","createPortal","color","height","width","_path","_path2","TOAST_OPTIONS","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","theme","ImagesGalleryInfo","stateDefault","images","showLoadMoreBtn","status","error","getImages","query","prevImages","hits","totalHits","toast","length","warn","smoothScrollDown","smoothScrollUp","catch","message","onLoadMoreBtnClick","prevState","resetPageNubmer","window","scrollTo","top","documentElement","scrollHeight","behavior","prevProps","prevSearchQuery","nextSeachQuery","defaultPageNumber","defaultPerPage","prevPageNumber","nextPageNumber","_excluded","_extends","Object","assign","i","arguments","source","prototype","hasOwnProperty","call","apply","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgIconClose","_ref","svgRef","title","titleId","xmlns","viewBox","ref","id","d","fill","ForwardRef","Modal","onBackdropClick","currentTarget","onClose","onEscape","code","onCloseBtnClick","addEventListener","removeEventListener","image","App","modalImageInfo","showModal","onSearchbarSubmit","trim","alert","toggleModal","onImageClick","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.fd70cbe1.chunk.js","sourcesContent":["import { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nexport default class Searchbar extends Component {\n  state = {\n    searchQuery: '',\n  };\n\n  handleChange = e => {\n    const { value } = e.target;\n    this.setState({\n      searchQuery: value,\n    });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    const { searchQuery } = this.state;\n    this.props.onSubmit(searchQuery.toLocaleLowerCase());\n    this.setState({\n      searchQuery: '',\n    });\n  };\n\n  render() {\n    const { searchQuery } = this.state;\n    const handleSubmit = this.handleSubmit;\n    const handleChange = this.handleChange;\n    return (\n      <header className=\"Searchbar\">\n        <form className=\"SearchForm\" onSubmit={handleSubmit}>\n          <button type=\"submit\" className=\"SearchForm-button\">\n            <span className=\"SearchForm-button-label\">Search</span>\n          </button>\n\n          <input\n            className=\"SearchForm-input\"\n            type=\"text\"\n            onChange={handleChange}\n            value={searchQuery}\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n","const BASE_URL = 'https://pixabay.com/api/?';\nconst API_KEY = '22968380-c77365a0aacae74fb17ed9f87';\n\nexport default function fetchImages(searchQuery, pageNumber, perPage) {\n  const searchParams = new URLSearchParams({\n    image_type: 'photo',\n    orientation: 'horizontal',\n    q: searchQuery,\n    page: pageNumber,\n    per_page: perPage,\n    key: API_KEY,\n  });\n  const url = `${BASE_URL}${searchParams}`;\n\n  return fetch(url).then(response => {\n    if (response.ok) {\n      return response.json();\n    }\n    return Promise.reject(new Error('Somthing goes wrong'));\n  });\n}\n","import PropTypes from 'prop-types';\n\nexport default function ImageGalleryItem({\n  previewUrl,\n  originUrl,\n  tags,\n  onClick,\n}) {\n  return (\n    <li className=\"ImageGalleryItem\">\n      <img\n        src={previewUrl}\n        alt={tags}\n        className=\"ImageGalleryItem-image\"\n        onClick={e => onClick({ originUrl, tags })}\n      />\n    </li>\n  );\n}\n\nImageGalleryItem.propTypes = {\n  previewUrl: PropTypes.string,\n  originUrl: PropTypes.string,\n  tags: PropTypes.string,\n  onClick: PropTypes.func.isRequired,\n};\n","import PropTypes from 'prop-types';\n\nimport ImageGalleryItem from './ImageGalleryItem';\nexport default function ImageGallery({ galleryData, onClick }) {\n  return (\n    <ul className=\"ImageGallery\">\n      {galleryData &&\n        galleryData.map(({ webformatURL, largeImageURL, tags }, index) => {\n          return (\n            <ImageGalleryItem\n              key={index}\n              previewUrl={webformatURL}\n              originUrl={largeImageURL}\n              tags={tags}\n              onClick={onClick}\n            />\n          );\n        })}\n    </ul>\n  );\n}\n\nImageGallery.propTypes = {\n  galleryData: PropTypes.arrayOf(\n    PropTypes.shape({\n      webformatURL: PropTypes.string,\n      largeImageURL: PropTypes.string,\n      tags: PropTypes.string,\n    }),\n  ),\n  onClick: PropTypes.func.isRequired,\n};\n","import PropTypes from 'prop-types';\n\nexport default function Button({ className, children, onClick }) {\n  return (\n    <button className={className} type=\"button\" onClick={onClick}>\n      {children}\n    </button>\n  );\n}\n\nButton.propTypes = {\n  className: PropTypes.string.isRequired,\n  onClick: PropTypes.func.isRequired,\n};\n","import Spinner from 'react-loader-spinner';\nimport { createPortal } from 'react-dom';\nconst portal = document.getElementById('portal');\n\nexport default function Loader() {\n  return createPortal(\n    <div className=\"Overlay\">\n      <Spinner type=\"Oval\" color=\"#fff\" height={150} width={150} />\n    </div>,\n    portal,\n  );\n}\n","var _path, _path2;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgIconClose(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0 0h24v24H0z\",\n    fill: \"none\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIconClose);\nexport default __webpack_public_path__ + \"static/media/icon-close.bc37e68c.svg\";\nexport { ForwardRef as ReactComponent };","import { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport fetchImages from '../../services/apiService';\nimport ImageGallery from './ImageGallery';\nimport Button from '../Button';\nimport Loader from '../Loader';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nconst TOAST_OPTIONS = {\n  position: 'top-right',\n  autoClose: 5000,\n  hideProgressBar: false,\n  closeOnClick: true,\n  pauseOnHover: true,\n  draggable: true,\n  progress: undefined,\n  theme: 'colored',\n};\n\nexport default class ImagesGalleryInfo extends Component {\n  stateDefault = {\n    pageNumber: 1,\n    perPage: 12,\n  };\n\n  state = {\n    pageNumber: this.stateDefault.pageNumber,\n    images: null,\n    showLoadMoreBtn: false,\n    status: 'idle',\n    error: null,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const prevSearchQuery = prevProps.searchQuery;\n    const nextSeachQuery = this.props.searchQuery;\n\n    const defaultPageNumber = this.stateDefault.pageNumber;\n    const defaultPerPage = this.stateDefault.perPage;\n\n    const prevPageNumber = prevState.pageNumber;\n    const nextPageNumber = this.state.pageNumber;\n    const prevImages = prevState.images;\n\n    if (prevSearchQuery !== nextSeachQuery) {\n      this.resetPageNubmer();\n      this.getImages(nextSeachQuery, defaultPageNumber, defaultPerPage);\n    }\n    if (nextPageNumber > prevPageNumber) {\n      this.getImages(\n        prevSearchQuery,\n        nextPageNumber,\n        defaultPerPage,\n        prevImages,\n      );\n    }\n  }\n\n  getImages = (query, page, perPage, prevImages) => {\n    this.setState({\n      status: 'pending',\n    });\n    fetchImages(query, page, perPage)\n      .then(response => {\n        const { hits, totalHits } = response;\n        if (totalHits === 0) {\n          this.setState({\n            images: null,\n            showLoadMoreBtn: false,\n            status: 'rejected',\n          });\n          toast.error(`By query \"${query}\" images not found`, TOAST_OPTIONS);\n          return;\n        } else if (hits.length < 12) {\n          toast.warn(`That is all we found by query \"${query}\"`, TOAST_OPTIONS);\n          this.setState({\n            showLoadMoreBtn: false,\n            status: 'resolved',\n          });\n        } else {\n          this.setState({\n            showLoadMoreBtn: true,\n            status: 'resolved',\n          });\n        }\n        this.setState({\n          images: prevImages\n            ? [...prevImages, ...response.hits]\n            : [...response.hits],\n        });\n        prevImages ? this.smoothScrollDown() : this.smoothScrollUp();\n      })\n      .catch(error => {\n        this.setState({\n          error: error.message,\n        });\n      });\n  };\n\n  onLoadMoreBtnClick = e => {\n    e.preventDefault();\n    this.setState(prevState => ({\n      pageNumber: prevState.pageNumber + 1,\n    }));\n  };\n\n  resetPageNubmer = () => {\n    this.setState({\n      pageNumber: this.stateDefault.pageNumber,\n    });\n  };\n\n  smoothScrollDown = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n  smoothScrollUp = () => {\n    window.scrollTo({\n      top: document.getElementById('root'),\n      behavior: 'smooth',\n    });\n  };\n\n  render() {\n    const { images, showLoadMoreBtn, status } = this.state;\n    const { onClick } = this.props;\n    const onLoadMoreBtnClick = this.onLoadMoreBtnClick;\n\n    return (\n      <>\n        <ImageGallery galleryData={images} onClick={onClick} />\n        {showLoadMoreBtn && (\n          <div className=\"ButtonWrapper\">\n            <Button className=\"Button\" onClick={onLoadMoreBtnClick}>\n              Load more\n            </Button>\n          </div>\n        )}\n        {status === 'pending' && <Loader />}\n        <ToastContainer />\n      </>\n    );\n  }\n}\n\nImagesGalleryInfo.propTypes = {\n  searchQuery: PropTypes.string,\n  onClick: PropTypes.func.isRequired,\n};\n","import { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\nimport Button from '../Button';\nimport { ReactComponent as CloseIcon } from './icon-close.svg';\n\nconst portal = document.getElementById('portal');\n\nexport default class Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.onEscape);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.onEscape);\n  }\n\n  onBackdropClick = e => {\n    const { currentTarget, target } = e;\n    if (currentTarget === target) {\n      this.props.onClose();\n    }\n  };\n\n  onEscape = e => {\n    const { code } = e;\n\n    if (code === 'Escape') {\n      this.props.onClose();\n    }\n  };\n\n  onCloseBtnClick = e => {\n    e.preventDefault();\n    this.props.onClose();\n  };\n\n  render() {\n    const { url, tags } = this.props.image;\n    const onBackdropClick = this.onBackdropClick;\n    return createPortal(\n      <div className=\"Overlay\" onClick={onBackdropClick}>\n        <img src={url} alt={tags} />\n        <Button className=\"CloseModalButton\" onClick={this.onCloseBtnClick}>\n          <CloseIcon />\n        </Button>\n      </div>,\n      portal,\n    );\n  }\n}\n\nModal.propTypes = {\n  image: PropTypes.shape({\n    url: PropTypes.string,\n    tags: PropTypes.string,\n  }),\n  onClose: PropTypes.func.isRequired,\n};\n","import { Component } from 'react';\nimport Searchbar from './Components/Searchbar';\nimport ImagesGalleryInfo from './Components/ImageGalleryInfo';\nimport Modal from './Components/Modal';\n\nexport default class App extends Component {\n  state = {\n    searchQuery: null,\n    modalImageInfo: null,\n    showModal: false,\n  };\n\n  onSearchbarSubmit = searchQuery => {\n    if (!searchQuery.trim()) {\n      alert('Empty query');\n      return;\n    }\n    this.setState({\n      searchQuery,\n    });\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal, modalImageInfo }) => ({\n      showModal: !showModal,\n      modalImageInfo: modalImageInfo && null,\n    }));\n  };\n\n  onImageClick = ({ originUrl, tags }) => {\n    this.toggleModal();\n    this.setState({\n      modalImageInfo: {\n        url: originUrl,\n        tags,\n      },\n    });\n  };\n\n  render() {\n    const { searchQuery, showModal, modalImageInfo } = this.state;\n\n    const onSearchbarSubmit = this.onSearchbarSubmit;\n    const toggleModal = this.toggleModal;\n    const onImageClick = this.onImageClick;\n    return (\n      <>\n        <Searchbar onSubmit={onSearchbarSubmit} />\n        <ImagesGalleryInfo searchQuery={searchQuery} onClick={onImageClick} />\n        {showModal && <Modal onClose={toggleModal} image={modalImageInfo} />}\n      </>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}