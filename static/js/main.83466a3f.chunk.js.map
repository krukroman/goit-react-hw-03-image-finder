{"version":3,"sources":["Components/Searchbar/Searchbar.js","services/apiService.js","Components/ImageGalleryInfo/ImageGallery/ImageGalleryItem/ImageGalleryItem.js","Components/ImageGalleryInfo/ImageGallery/ImageGallery.js","Components/Button/Button.js","Components/Loader/Loader.js","Components/Modal/icon-close.svg","Components/ImageGalleryInfo/ImageGalleryInfo.js","Components/Modal/Modal.js","App.js","index.js"],"names":["Searchbar","state","searchQuery","handleChange","e","value","target","setState","handleSubmit","preventDefault","props","onSubmit","toLocaleLowerCase","this","className","type","onChange","autoComplete","autoFocus","placeholder","Component","fetchImages","pageNumber","perPage","searchParams","URLSearchParams","image_type","orientation","q","page","per_page","key","url","fetch","then","response","ok","json","Promise","reject","Error","ImageGalleryItem","previewUrl","originUrl","tags","onClick","src","alt","ImageGallery","galleryData","map","index","webformatURL","largeImageURL","Button","children","portal","document","getElementById","Loader","createPortal","color","height","width","_path","_path2","TOAST_OPTIONS","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","theme","ImagesGalleryInfo","stateDefault","images","showLoadMoreBtn","status","error","getImages","query","prevImages","hits","total","toast","length","Math","ceil","warn","smoothScrollDown","smoothScrollUp","catch","message","onLoadMoreBtnClick","prevState","resetPageNubmer","window","scrollTo","top","documentElement","scrollHeight","behavior","prevProps","prevSearchQuery","nextSeachQuery","defaultPageNumber","defaultPerPage","prevPageNumber","nextPageNumber","_excluded","_extends","Object","assign","i","arguments","source","prototype","hasOwnProperty","call","apply","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgIconClose","_ref","svgRef","title","titleId","xmlns","viewBox","ref","id","d","fill","ForwardRef","Modal","onBackdropClick","currentTarget","onClose","onEscape","code","onCloseBtnClick","addEventListener","removeEventListener","image","App","modalImageInfo","showModal","onSearchbarSubmit","trim","alert","toggleModal","onImageClick","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.83466a3f.chunk.js","sourcesContent":["import { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nexport default class Searchbar extends Component {\n  state = {\n    searchQuery: '',\n  };\n\n  handleChange = e => {\n    const { value } = e.target;\n    this.setState({\n      searchQuery: value,\n    });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    const { searchQuery } = this.state;\n    this.props.onSubmit(searchQuery.toLocaleLowerCase());\n    this.setState({\n      searchQuery: '',\n    });\n  };\n\n  render() {\n    const { searchQuery } = this.state;\n    const handleSubmit = this.handleSubmit;\n    const handleChange = this.handleChange;\n    return (\n      <header className=\"Searchbar\">\n        <form className=\"SearchForm\" onSubmit={handleSubmit}>\n          <button type=\"submit\" className=\"SearchForm-button\">\n            <span className=\"SearchForm-button-label\">Search</span>\n          </button>\n\n          <input\n            className=\"SearchForm-input\"\n            type=\"text\"\n            onChange={handleChange}\n            value={searchQuery}\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n","const BASE_URL = 'https://pixabay.com/api/?';\nconst API_KEY = '22968380-c77365a0aacae74fb17ed9f87';\n\nexport default function fetchImages(searchQuery, pageNumber, perPage) {\n  const searchParams = new URLSearchParams({\n    image_type: 'photo',\n    orientation: 'horizontal',\n    q: searchQuery,\n    page: pageNumber,\n    per_page: perPage,\n    key: API_KEY,\n  });\n  const url = `${BASE_URL}${searchParams}`;\n\n  return fetch(url).then(response => {\n    if (response.ok) {\n      return response.json();\n    }\n    return Promise.reject(new Error('Somthing goes wrong'));\n  });\n}\n","import PropTypes from 'prop-types';\n\nexport default function ImageGalleryItem({\n  previewUrl,\n  originUrl,\n  tags,\n  onClick,\n}) {\n  return (\n    <li className=\"ImageGalleryItem\">\n      <img\n        src={previewUrl}\n        alt={tags}\n        className=\"ImageGalleryItem-image\"\n        onClick={e => onClick({ originUrl, tags })}\n      />\n    </li>\n  );\n}\n\nImageGalleryItem.propTypes = {\n  previewUrl: PropTypes.string,\n  originUrl: PropTypes.string,\n  tags: PropTypes.string,\n  onClick: PropTypes.func.isRequired,\n};\n","import PropTypes from 'prop-types';\n\nimport ImageGalleryItem from './ImageGalleryItem';\nexport default function ImageGallery({ galleryData, onClick }) {\n  return (\n    <ul className=\"ImageGallery\">\n      {galleryData &&\n        galleryData.map(({ webformatURL, largeImageURL, tags }, index) => {\n          return (\n            <ImageGalleryItem\n              key={index}\n              previewUrl={webformatURL}\n              originUrl={largeImageURL}\n              tags={tags}\n              onClick={onClick}\n            />\n          );\n        })}\n    </ul>\n  );\n}\n\nImageGallery.propTypes = {\n  galleryData: PropTypes.arrayOf(\n    PropTypes.shape({\n      webformatURL: PropTypes.string,\n      largeImageURL: PropTypes.string,\n      tags: PropTypes.string,\n    }),\n  ),\n  onClick: PropTypes.func.isRequired,\n};\n","import PropTypes from 'prop-types';\n\nexport default function Button({ className, children, onClick }) {\n  return (\n    <button className={className} type=\"button\" onClick={onClick}>\n      {children}\n    </button>\n  );\n}\n\nButton.propTypes = {\n  className: PropTypes.string.isRequired,\n  onClick: PropTypes.func.isRequired,\n};\n","import Spinner from 'react-loader-spinner';\nimport { createPortal } from 'react-dom';\nconst portal = document.getElementById('portal');\n\nexport default function Loader() {\n  return createPortal(\n    <div className=\"Overlay\">\n      <Spinner type=\"Oval\" color=\"#fff\" height={150} width={150} />\n    </div>,\n    portal,\n  );\n}\n","var _path, _path2;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgIconClose(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0 0h24v24H0z\",\n    fill: \"none\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIconClose);\nexport default __webpack_public_path__ + \"static/media/icon-close.bc37e68c.svg\";\nexport { ForwardRef as ReactComponent };","import { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport fetchImages from '../../services/apiService';\nimport ImageGallery from './ImageGallery';\nimport Button from '../Button';\nimport Loader from '../Loader';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nconst TOAST_OPTIONS = {\n  position: 'top-right',\n  autoClose: 5000,\n  hideProgressBar: false,\n  closeOnClick: true,\n  pauseOnHover: true,\n  draggable: true,\n  progress: undefined,\n  theme: 'colored',\n};\n\nexport default class ImagesGalleryInfo extends Component {\n  stateDefault = {\n    pageNumber: 1,\n    perPage: 12,\n  };\n\n  state = {\n    pageNumber: this.stateDefault.pageNumber,\n    images: null,\n    showLoadMoreBtn: false,\n    status: 'idle',\n    error: null,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const prevSearchQuery = prevProps.searchQuery;\n    const nextSeachQuery = this.props.searchQuery;\n\n    const defaultPageNumber = this.stateDefault.pageNumber;\n    const defaultPerPage = this.stateDefault.perPage;\n\n    const prevPageNumber = prevState.pageNumber;\n    const nextPageNumber = this.state.pageNumber;\n    const prevImages = prevState.images;\n\n    if (prevSearchQuery !== nextSeachQuery) {\n      this.resetPageNubmer();\n      this.getImages(nextSeachQuery, defaultPageNumber, defaultPerPage);\n    }\n    if (nextPageNumber > prevPageNumber) {\n      this.getImages(\n        prevSearchQuery,\n        nextPageNumber,\n        defaultPerPage,\n        prevImages,\n      );\n    }\n  }\n\n  getImages = (query, page, perPage, prevImages) => {\n    this.setState({\n      status: 'pending',\n    });\n    fetchImages(query, page, perPage)\n      .then(response => {\n        const { hits, total } = response;\n        if (total === 0) {\n          this.setState({\n            images: null,\n            showLoadMoreBtn: false,\n            status: 'rejected',\n          });\n          toast.error(`By query \"${query}\" images not found`, TOAST_OPTIONS);\n          return;\n        }\n        if (hits.length < 12 || page === Math.ceil(total / hits.length)) {\n          toast.warn(`That is all we found by query \"${query}\"`, TOAST_OPTIONS);\n          this.setState({\n            showLoadMoreBtn: false,\n            status: 'resolved',\n          });\n        } else {\n          this.setState({\n            showLoadMoreBtn: true,\n            status: 'resolved',\n          });\n        }\n        this.setState({\n          images: prevImages ? [...prevImages, ...hits] : [...hits],\n        });\n        prevImages ? this.smoothScrollDown() : this.smoothScrollUp();\n      })\n      .catch(error => {\n        this.setState({\n          error: error.message,\n        });\n      });\n  };\n\n  onLoadMoreBtnClick = e => {\n    e.preventDefault();\n    this.setState(prevState => ({\n      pageNumber: prevState.pageNumber + 1,\n    }));\n  };\n\n  resetPageNubmer = () => {\n    this.setState({\n      pageNumber: this.stateDefault.pageNumber,\n    });\n  };\n\n  smoothScrollDown = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n  smoothScrollUp = () => {\n    window.scrollTo({\n      top: document.getElementById('root'),\n      behavior: 'smooth',\n    });\n  };\n\n  render() {\n    const { images, showLoadMoreBtn, status } = this.state;\n    const { onClick } = this.props;\n    const onLoadMoreBtnClick = this.onLoadMoreBtnClick;\n\n    return (\n      <>\n        <ImageGallery galleryData={images} onClick={onClick} />\n        {showLoadMoreBtn && (\n          <div className=\"ButtonWrapper\">\n            <Button className=\"Button\" onClick={onLoadMoreBtnClick}>\n              Load more\n            </Button>\n          </div>\n        )}\n        {status === 'pending' && <Loader />}\n        <ToastContainer />\n      </>\n    );\n  }\n}\n\nImagesGalleryInfo.propTypes = {\n  searchQuery: PropTypes.string,\n  onClick: PropTypes.func.isRequired,\n};\n","import { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\nimport Button from '../Button';\nimport { ReactComponent as CloseIcon } from './icon-close.svg';\n\nconst portal = document.getElementById('portal');\n\nexport default class Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.onEscape);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.onEscape);\n  }\n\n  onBackdropClick = e => {\n    const { currentTarget, target } = e;\n    if (currentTarget === target) {\n      this.props.onClose();\n    }\n  };\n\n  onEscape = e => {\n    const { code } = e;\n\n    if (code === 'Escape') {\n      this.props.onClose();\n    }\n  };\n\n  onCloseBtnClick = e => {\n    e.preventDefault();\n    this.props.onClose();\n  };\n\n  render() {\n    const { url, tags } = this.props.image;\n    const onBackdropClick = this.onBackdropClick;\n    return createPortal(\n      <div className=\"Overlay\" onClick={onBackdropClick}>\n        <img src={url} alt={tags} />\n        <Button className=\"CloseModalButton\" onClick={this.onCloseBtnClick}>\n          <CloseIcon />\n        </Button>\n      </div>,\n      portal,\n    );\n  }\n}\n\nModal.propTypes = {\n  image: PropTypes.shape({\n    url: PropTypes.string,\n    tags: PropTypes.string,\n  }),\n  onClose: PropTypes.func.isRequired,\n};\n","import { Component } from 'react';\nimport Searchbar from './Components/Searchbar';\nimport ImagesGalleryInfo from './Components/ImageGalleryInfo';\nimport Modal from './Components/Modal';\n\nexport default class App extends Component {\n  state = {\n    searchQuery: null,\n    modalImageInfo: null,\n    showModal: false,\n  };\n\n  onSearchbarSubmit = searchQuery => {\n    if (!searchQuery.trim()) {\n      alert('Empty query');\n      return;\n    }\n    this.setState({\n      searchQuery,\n    });\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal, modalImageInfo }) => ({\n      showModal: !showModal,\n      modalImageInfo: modalImageInfo && null,\n    }));\n  };\n\n  onImageClick = ({ originUrl, tags }) => {\n    this.toggleModal();\n    this.setState({\n      modalImageInfo: {\n        url: originUrl,\n        tags,\n      },\n    });\n  };\n\n  render() {\n    const { searchQuery, showModal, modalImageInfo } = this.state;\n\n    const onSearchbarSubmit = this.onSearchbarSubmit;\n    const toggleModal = this.toggleModal;\n    const onImageClick = this.onImageClick;\n    return (\n      <>\n        <Searchbar onSubmit={onSearchbarSubmit} />\n        <ImagesGalleryInfo searchQuery={searchQuery} onClick={onImageClick} />\n        {showModal && <Modal onClose={toggleModal} image={modalImageInfo} />}\n      </>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}